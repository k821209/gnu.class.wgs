<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WGS 분석 파이프라인 - 정렬</title>
    <style>

        body { font-family: 'Malgun Gothic', Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
        .slide { width: 100%; height: 100vh; display: block; padding: 40px; box-sizing: border-box; background: white; }
        .slide.active { display: block; }
        .slide-title { font-size: 36px; font-weight: bold; color: #2c3e50; margin-bottom: 30px; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        .slide-content { font-size: 18px; line-height: 1.6; color: #34495e; }
        .slide-content h2 { color: #2980b9; font-size: 24px; margin-top: 30px; }
        .slide-content h3 { color: #e74c3c; font-size: 20px; margin-top: 20px; }
        .slide-content ul { margin: 15px 0; padding-left: 30px; }
        .slide-content li { margin: 8px 0; }
        .highlight { background: #fff3cd; padding: 3px 8px; border-radius: 3px; }
        .code-block { 
            background: #1e1e1e; 
            border: 1px solid #333; 
            padding: 20px; 
            border-radius: 8px; 
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace; 
            margin: 15px 0; 
            color: #00ff00;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            position: relative;
        }
        .code-block::before {
            content: "";
            color: #00ff00;
            font-weight: bold;
        }
        .code-block code { 
            white-space: pre-wrap; 
            color: #00ff00;
            font-size: 14px;
            line-height: 1.4;
        }
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #333;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .copy-btn:hover {
            opacity: 1;
            background: #555;
        }
        .copy-btn.copied {
            background: #00ff00;
            color: #000;
        }
        .navigation { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
        .nav-btn { background: #3498db; color: white; border: none; padding: 10px 20px; margin: 0 5px; border-radius: 5px; cursor: pointer; }
        .nav-btn:hover { background: #2980b9; }
        .fullscreen-btn { background: #e74c3c; color: white; border: none; padding: 10px 15px; margin: 0 5px; border-radius: 5px; cursor: pointer; }
        .fullscreen-btn:hover { background: #c0392b; }
        .jump-btn { background: #27ae60; color: white; border: none; padding: 10px 15px; margin: 0 5px; border-radius: 5px; cursor: pointer; }
        .jump-btn:hover { background: #229954; }
        .slide-number { position: fixed; bottom: 20px; left: 20px; color: #7f8c8d; font-size: 14px; }
        .table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        .table th { background: #f8f9fa; font-weight: bold; }
        .comparison-table { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0; }
        .comparison-item { background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #3498db; }
        .comparison-item h4 { margin: 0 0 10px 0; color: #2c3e50; }
        .image-placeholder { width: 100%; height: 300px; background: #ecf0f1; border: 2px dashed #bdc3c7; display: flex; align-items: center; justify-content: center; color: #7f8c8d; font-size: 16px; margin: 20px 0; border-radius: 8px; }
        .tool-card { 
            background: #ffffff; 
            border: 1px solid #e0e0e0; 
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.05); 
            margin: 15px; 
            padding: 25px; 
            width: 48%; 
            min-width: 400px; 
            box-sizing: border-box; 
            transition: transform 0.2s; 
        }
        .tool-card:hover { transform: translateY(-5px); }
        .tool-card h3 { 
            color: #3498db; 
            font-size: 22px; 
            margin-top: 0; 
            border-bottom: 2px solid #3498db; 
            padding-bottom: 10px; 
            margin-bottom: 20px; 
        }
        .tool-card ul { list-style: none; padding: 0; margin: 0; }
        .tool-card li { 
            margin-bottom: 10px; 
            padding-left: 25px; 
            position: relative; 
        }
        .tool-card li::before { 
            content: '•'; 
            color: #27ae60; 
            font-weight: bold; 
            position: absolute; 
            left: 0; 
            top: 0; 
        }
        .tool-comparison { 
            display: flex; 
            justify-content: space-around; 
            margin-top: 40px; 
            flex-wrap: wrap; 
        }
        .section-divider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            margin: 30px 0 20px 0;
            text-align: center;
            font-weight: bold;
            font-size: 20px;
        }
        .dna-section {
            border-left: 4px solid #3498db;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .rna-section {
            border-left: 4px solid #e74c3c;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
    
    </style>
</head>
<body>

<div class="slide">
    <div class="slide-title">단계 2: 정렬 (Alignment)</div>
    <div class="slide-content">
        <h2>🗺️ 정렬 (Alignment): DNA vs RNA 매핑의 차이점</h2>
        <p>시퀀싱된 리드를 참조 게놈에 매핑하는 과정은 DNA와 RNA에서 서로 다른 접근 방식이 필요합니다. 각각의 특성에 맞는 도구와 전략을 이해해 봅시다.</p>

        <div class="section-divider">
            🧬 DNA 매핑 (Genomic DNA Alignment)
        </div>

        <div class="dna-section">
            <h3>🎯 DNA 매핑의 특징</h3>
            <ul>
                <li><strong>연속적 서열:</strong> 인트론과 엑손이 모두 포함된 연속적인 게놈 서열</li>
                <li><strong>단순한 매핑:</strong> 스플라이싱을 고려할 필요 없음</li>
                <li><strong>변이 검출 목적:</strong> SNP, INDEL, 구조적 변이 식별</li>
                <li><strong>높은 정확도 요구:</strong> 정확한 변이 호출을 위한 정밀한 정렬 필요</li>
            </ul>

            <div class="tool-comparison">
                <div class="tool-card">
                    <h3>BWA-MEM2</h3>
                    <ul>
                        <li>BWA-MEM의 차세대 버전 - <strong>2-3배 빠른 속도</strong></li>
                        <li>BWA-MEM과 동일한 정렬 결과 보장</li>
                        <li>Intel 컴파일러 최적화 및 CPU dispatch 지원</li>
                        <li><strong>최적 용도:</strong> 대용량 WGS 데이터, 고속 변이 검출</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 참조 게놈 인덱싱 (BWA-MEM과 동일)
bwa-mem2 index reference.fasta

# Paired-end DNA 정렬 (2-3배 빠른 속도)
bwa-mem2 mem -t 8 -M reference.fasta read1.fq.gz read2.fq.gz > aligned.sam

# SAM을 BAM으로 변환 및 정렬
samtools view -bS aligned.sam | samtools sort > aligned_sorted.bam</code>
                    </div>
                </div>

                <div class="tool-card">
                    <h3>BWA-MEM (Classic)</h3>
                    <ul>
                        <li>DNA 시퀀싱 데이터 정렬의 골드 스탠다드</li>
                        <li>Maximal Exact Matches (MEMs) 알고리즘 사용</li>
                        <li>높은 정확도와 안정성으로 WGS 분석에 널리 사용</li>
                        <li><strong>최적 용도:</strong> 안정성이 최우선인 환경, 레거시 시스템</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 참조 게놈 인덱싱
bwa index reference.fasta

# Paired-end DNA 정렬
bwa mem -t 8 -M reference.fasta read1.fq.gz read2.fq.gz > aligned.sam

# SAM을 BAM으로 변환 및 정렬
samtools view -bS aligned.sam | samtools sort > aligned_sorted.bam</code>
                    </div>
                </div>

                <div class="tool-card">
                    <h3>Bowtie2</h3>
                    <ul>
                        <li>메모리 효율적인 DNA 정렬 도구</li>
                        <li>중간 길이 리드(50-100bp)에 최적화</li>
                        <li>빠른 속도와 낮은 메모리 사용량</li>
                        <li><strong>최적 용도:</strong> 소규모 게놈, ChIP-seq, ATAC-seq</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 참조 게놈 인덱싱
bowtie2-build reference.fasta reference_index

# Paired-end DNA 정렬
bowtie2 -x reference_index -1 read1.fq.gz -2 read2.fq.gz -S aligned.sam</code>
                    </div>
                </div>
            </div>

            <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #28a745;">
                <h4 style="color: #155724; margin-top: 0;">🚀 BWA-MEM vs BWA-MEM2 성능 비교</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div>
                        <h5 style="color: #155724; margin: 0 0 10px 0;">🔄 BWA-MEM (Original)</h5>
                        <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #155724;">
                            <li>검증된 안정성과 광범위한 사용</li>
                            <li>모든 플랫폼에서 일관된 성능</li>
                            <li>기존 파이프라인과 완벽 호환</li>
                        </ul>
                    </div>
                    <div>
                        <h5 style="color: #155724; margin: 0 0 10px 0;">⚡ BWA-MEM2 (Enhanced)</h5>
                        <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #155724;">
                            <li><strong>2-3배 빠른 처리 속도</strong></li>
                            <li>동일한 정렬 결과 보장</li>
                            <li>Intel 최적화 및 SIMD 자동 감지</li>
                            <li>대용량 데이터셋에 최적화</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-divider">
            🧮 RNA 매핑 (RNA-seq Alignment)
        </div>

        <div class="rna-section">
            <h3>🎯 RNA 매핑의 특징</h3>
            <ul>
                <li><strong>스플라이싱 인식:</strong> 인트론 제거 후 엑손 연결 과정을 고려</li>
                <li><strong>불연속적 정렬:</strong> 하나의 리드가 여러 엑손에 걸쳐 매핑될 수 있음</li>
                <li><strong>발현량 분석:</strong> 유전자 발현 수준 정량화</li>
                <li><strong>전사체 다양성:</strong> 대안 스플라이싱, 새로운 전사체 발견</li>
            </ul>

            <h4 style="color: #e74c3c; margin-top: 30px; margin-bottom: 15px;">📍 전통적 정렬 기반 도구 (Alignment-based)</h4>
            
            <div class="tool-comparison">
                <div class="tool-card">
                    <h3>HISAT2</h3>
                    <ul>
                        <li>RNA-seq 정렬의 현재 표준 도구</li>
                        <li>계층적 인덱싱으로 초고속 정렬</li>
                        <li>스플라이스 사이트 자동 인식</li>
                        <li><strong>최적 용도:</strong> 일반적인 RNA-seq 분석, 새로운 전사체 발견</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 스플라이스 사이트와 함께 인덱싱
hisat2-build reference.fasta reference_index

# RNA-seq 정렬 (스플라이싱 인식)
hisat2 -x reference_index -1 read1.fq.gz -2 read2.fq.gz -S aligned.sam --dta

# 전사체 어셈블리를 위한 정렬
hisat2 -x reference_index -1 read1.fq.gz -2 read2.fq.gz -S aligned.sam --dta-cufflinks</code>
                    </div>
                </div>

                <div class="tool-card">
                    <h3>STAR</h3>
                    <ul>
                        <li>초고속 RNA-seq 정렬 도구</li>
                        <li>unbiased detection of splice junctions</li>
                        <li>새로운 스플라이스 사이트 발견에 우수</li>
                        <li><strong>최적 용도:</strong> 대용량 데이터, 새로운 전사체 발견</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 게놈 인덱스 생성
STAR --runMode genomeGenerate --genomeDir genome_index \
     --genomeFastaFiles reference.fasta --sjdbGTFfile annotation.gtf

# RNA-seq 정렬
STAR --genomeDir genome_index --readFilesIn read1.fq.gz read2.fq.gz \
     --readFilesCommand zcat --outSAMtype BAM SortedByCoordinate</code>
                    </div>
                </div>
            </div>

            <h4 style="color: #e74c3c; margin-top: 30px; margin-bottom: 15px;">⚡ 의사정렬 기반 정량화 도구 (Pseudo-alignment)</h4>
            <p style="font-size: 16px; color: #34495e; margin-bottom: 20px;">
                기존 정렬 방식보다 <strong>10-100배 빠른</strong> 전사체 정량화 전용 도구들입니다. 정확한 정렬 위치보다는 <strong>발현량 정량화</strong>에 특화되어 있습니다.
            </p>

            <div class="tool-comparison">
                <div class="tool-card">
                    <h3>Kallisto</h3>
                    <ul>
                        <li>k-mer 기반 의사정렬로 초고속 정량화</li>
                        <li>정렬 파일(BAM) 생성 없이 직접 발현량 계산</li>
                        <li>부트스트랩을 통한 통계적 불확실성 추정</li>
                        <li><strong>최적 용도:</strong> 빠른 발현량 정량화, 차등발현 분석</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 전사체 인덱스 생성
kallisto index -i transcripts.idx transcripts.fasta

# RNA-seq 정량화 (부트스트랩 100회)
kallisto quant -i transcripts.idx -o output_dir -b 100 \
    read1.fq.gz read2.fq.gz

# 단일 세포 RNA-seq 정량화
kallisto bus -i transcripts.idx -o output_dir \
    -x 10xv3 read1.fq.gz read2.fq.gz</code>
                    </div>
                </div>

                <div class="tool-card">
                    <h3>Salmon</h3>
                    <ul>
                        <li>이중 정량화 모드: 의사정렬 + 경량 정렬</li>
                        <li>고급 bias 보정 (GC bias, positional bias)</li>
                        <li>정확한 발현량 추정을 위한 EM 알고리즘</li>
                        <li><strong>최적 용도:</strong> 고정밀 정량화, bias 보정이 중요한 경우</li>
                    </ul>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">복사</button>
                        <code># 전사체 인덱스 생성
salmon index -t transcripts.fasta -i salmon_index

# RNA-seq 정량화 (bias 보정 포함)
salmon quant -i salmon_index -l A -1 read1.fq.gz -2 read2.fq.gz \
    -o quant_output --gcBias --validateMappings

# 정렬 기반 모드 (BAM 파일 사용)
salmon quant -t transcripts.fasta -a aligned.bam -o quant_output</code>
                    </div>
                </div>
            </div>

            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;">
                <h4 style="color: #856404; margin-top: 0;">⚡ 정렬 vs 의사정렬 비교</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div>
                        <h5 style="color: #856404; margin: 0 0 10px 0;">📍 전통적 정렬 (HISAT2, STAR)</h5>
                        <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #856404;">
                            <li><strong>장점:</strong> 새로운 전사체 발견, 정확한 위치 정보</li>
                            <li><strong>단점:</strong> 느린 속도, 큰 저장 공간 필요</li>
                            <li><strong>용도:</strong> 전사체 어셈블리, 변이 검출, 새로운 splice site 발견</li>
                        </ul>
                    </div>
                    <div>
                        <h5 style="color: #856404; margin: 0 0 10px 0;">⚡ 의사정렬 (Kallisto, Salmon)</h5>
                        <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #856404;">
                            <li><strong>장점:</strong> 초고속 처리, 작은 저장 공간, 정확한 정량화</li>
                            <li><strong>단점:</strong> 알려진 전사체만 정량화 가능</li>
                            <li><strong>용도:</strong> 차등발현 분석, 대용량 데이터 처리, 단일세포 RNA-seq</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-divider">
            📏 Long Read 매핑 (Long Read Alignment)
        </div>

        <div style="background: #f0f4ff; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #6c5ce7;">
            <h3>🎯 Long Read 매핑의 특징</h3>
            <ul>
                <li><strong>긴 리드 길이:</strong> 1kb-1Mb의 긴 시퀀스로 복잡한 게놈 영역 해결</li>
                <li><strong>개선된 정확도:</strong> 최신 PacBio HiFi (>99.9%), Nanopore (95-99%) 정확도 달성</li>
                <li><strong>구조적 변이 감지:</strong> 큰 삽입/결실, 역위, 전좌 등 감지에 우수</li>
                <li><strong>반복 서열 해결:</strong> 짧은 리드로 불가능한 반복 영역 정렬</li>
            </ul>
        </div>

        <h4 style="color: #6c5ce7; margin-top: 30px; margin-bottom: 15px;">🧬 Long Read DNA 매핑</h4>

        <div class="tool-comparison">
            <div class="tool-card">
                <h3>minimap2</h3>
                <ul>
                    <li>PacBio, Oxford Nanopore 장거리 시퀀싱의 표준 정렬 도구</li>
                    <li>BWA-MEM보다 50배 빠르면서 더 정확한 정렬</li>
                    <li>다양한 데이터 타입을 위한 사전 설정 제공</li>
                    <li><strong>최적 용도:</strong> 장거리 WGS, 구조적 변이 검출, 게놈 어셈블리</li>
                </ul>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                    <code># PacBio 데이터 정렬 (CLR/CCS)
minimap2 -ax map-pb reference.fasta pacbio_reads.fastq.gz > aligned.sam

# Oxford Nanopore 데이터 정렬
minimap2 -ax map-ont reference.fasta nanopore_reads.fastq.gz > aligned.sam

# 고정밀도 모드 (더 정확하지만 느림)
minimap2 -ax asm20 reference.fasta long_reads.fastq.gz > aligned.sam</code>
                </div>
            </div>

            <div class="tool-card">
                <h3>NGMLR</h3>
                <ul>
                    <li>구조적 변이 검출에 특화된 장거리 정렬 도구</li>
                    <li>높은 정밀도로 복잡한 변이 검출</li>
                    <li>Sniffles와 함께 사용하여 SV 호출</li>
                    <li><strong>최적 용도:</strong> 정밀한 구조적 변이 분석</li>
                </ul>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                    <code># PacBio 데이터 정렬 (SV 검출용)
ngmlr -t 8 -r reference.fasta -q pacbio_reads.fastq.gz -o aligned.sam

# Oxford Nanopore 데이터 정렬
ngmlr -t 8 -r reference.fasta -q nanopore_reads.fastq.gz -o aligned.sam -x ont

# Sniffles와 연계한 SV 검출
samtools sort aligned.sam > aligned_sorted.bam
samtools index aligned_sorted.bam
sniffles -m aligned_sorted.bam -v variants.vcf</code>
                </div>
            </div>
        </div>

        <h4 style="color: #6c5ce7; margin-top: 30px; margin-bottom: 15px;">🧮 Long Read RNA 매핑</h4>

        <div class="tool-comparison">
            <div class="tool-card">
                <h3>minimap2 (RNA mode)</h3>
                <ul>
                    <li>장거리 RNA-seq 데이터의 표준 정렬 도구</li>
                    <li>스플라이싱 인식 정렬 지원</li>
                    <li>전장 전사체 시퀀싱에 최적화</li>
                    <li><strong>최적 용도:</strong> 전장 전사체 분석, 이소폼 발견</li>
                </ul>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                    <code># PacBio 전사체 데이터 정렬
minimap2 -ax splice -uf reference.fasta pacbio_transcripts.fastq.gz > aligned.sam

# Oxford Nanopore 전사체 데이터 정렬
minimap2 -ax splice -uf -k14 reference.fasta nanopore_transcripts.fastq.gz > aligned.sam

# GTF 어노테이션과 함께 정렬
minimap2 -ax splice --junc-bed annotation.bed reference.fasta transcripts.fastq.gz > aligned.sam</code>
                </div>
            </div>

            <div class="tool-card">
                <h3>GMAP</h3>
                <ul>
                    <li>긴 cDNA/전사체 서열의 정밀 정렬</li>
                    <li>복잡한 스플라이싱 패턴 인식</li>
                    <li>새로운 엑손-인트론 구조 발견</li>
                    <li><strong>최적 용도:</strong> 전사체 어노테이션, 대안 스플라이싱 분석</li>
                </ul>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">복사</button>
                    <code># 게놈 인덱스 생성
gmap_build -d genome_db reference.fasta

# 전사체 정렬 (SAM 형식)
gmap -D . -d genome_db -f samse transcripts.fasta > aligned.sam

# 스플라이싱 정보 포함 정렬
gmap -D . -d genome_db -f gff3_gene transcripts.fasta > aligned.gff3</code>
                </div>
            </div>
        </div>

        <div style="background: #f8f3ff; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #6c5ce7;">
            <h4 style="color: #553c9a; margin-top: 0;">📊 Short Read vs Long Read 매핑 비교</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                <div>
                    <h5 style="color: #553c9a; margin: 0 0 10px 0;">📏 Short Read (50-300bp)</h5>
                    <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #553c9a;">
                        <li><strong>장점:</strong> 높은 정확도, 비용 효율성</li>
                        <li><strong>단점:</strong> 반복 서열 해결 어려움, 구조적 변이 감지 제한</li>
                        <li><strong>도구:</strong> BWA-MEM2, HISAT2, STAR</li>
                        <li><strong>용도:</strong> SNP/INDEL 검출, 일반적 발현 분석</li>
                    </ul>
                </div>
                <div>
                    <h5 style="color: #553c9a; margin: 0 0 10px 0;">📏 Long Read (1kb-1Mb)</h5>
                    <ul style="font-size: 13px; margin: 10px 0; padding-left: 20px; color: #553c9a;">
                        <li><strong>장점:</strong> 구조적 변이 감지, 반복 서열 해결, 전장 이소폼</li>
                        <li><strong>단점:</strong> 높은 오류율, 높은 비용</li>
                        <li><strong>도구:</strong> minimap2, NGMLR, GMAP</li>
                        <li><strong>용도:</strong> 게놈 어셈블리, 구조적 변이, 전장 전사체</li>
                    </ul>
                </div>
            </div>
        </div>

        <div style="background: #e8f4f8; padding: 20px; border-radius: 8px; margin: 30px 0; border-left: 4px solid #3498db;">
            <h4 style="color: #2c3e50; margin-top: 0;">🔍 매핑 도구 선택 가이드</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 15px;">
                <div>
                    <h5 style="color: #3498db; margin: 0 0 10px 0;">🧬 Short Read DNA</h5>
                    <ul style="font-size: 14px; margin: 10px 0; padding-left: 20px; color: #34495e;">
                        <li>BWA-MEM2 (WGS)</li>
                        <li>Bowtie2 (ChIP-seq)</li>
                        <li>변이 검출 중심</li>
                    </ul>
                </div>
                <div>
                    <h5 style="color: #e74c3c; margin: 0 0 10px 0;">🧮 Short Read RNA</h5>
                    <ul style="font-size: 14px; margin: 10px 0; padding-left: 20px; color: #34495e;">
                        <li>HISAT2 (일반)</li>
                        <li>STAR (발견)</li>
                        <li>Kallisto/Salmon (정량)</li>
                    </ul>
                </div>
                <div>
                    <h5 style="color: #6c5ce7; margin: 0 0 10px 0;">📏 Long Read</h5>
                    <ul style="font-size: 14px; margin: 10px 0; padding-left: 20px; color: #34495e;">
                        <li>minimap2 (일반)</li>
                        <li>NGMLR (구조적 변이)</li>
                        <li>GMAP (전사체)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="navigation">
    <button class="jump-btn" onclick="jumpToFirst()">🏠 처음</button>
    <button class="nav-btn" onclick="prevSlide()">◀ 이전</button>
    <button class="nav-btn" onclick="nextSlide()">다음 ▶</button>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">⛶ 전체화면</button>
</div>

<div class="slide-number">슬라이드 3 / 5</div>

<script>
    function prevSlide() {
        window.location.href = "slide02.html";
    }
    
    function nextSlide() {
        window.location.href = "slide04.html";
    }
    
    function jumpToFirst() {
        window.location.href = "slide01.html";
    }
    
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    }
    
    function copyCode(button) {
        const codeBlock = button.nextElementSibling;
        const codeText = codeBlock.textContent.trim();
        
        navigator.clipboard.writeText(codeText).then(function() {
            button.textContent = '복사됨!';
            button.classList.add('copied');
            setTimeout(function() {
                button.textContent = '복사';
                button.classList.remove('copied');
            }, 2000);
        }).catch(function() {
            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = codeText;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                button.textContent = '복사됨!';
                button.classList.add('copied');
                setTimeout(function() {
                    button.textContent = '복사';
                    button.classList.remove('copied');
                }, 2000);
            } catch (err) {
                console.error('Copy failed:', err);
            }
            document.body.removeChild(textArea);
        });
    }
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowRight' || e.key === ' ') {
            nextSlide();
        } else if (e.key === 'ArrowLeft') {
            prevSlide();
        } else if (e.key === 'Home') {
            jumpToFirst();
        } else if (e.key === 'F11') {
            e.preventDefault();
            toggleFullscreen();
        }
    });
</script>

</body>
</html>